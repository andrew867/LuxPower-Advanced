# Example services.yaml entry

luxpower_refresh_register_bank:
  description: For refreshing the register values of an address bank of specified DONGLE
  fields:
    dongle:
      description: Dongle Serial Number
      default: ""
      example: "<DONGLE SERIAL>"
    address_bank:
      description: Address bank number ( can be 0,1,2)
      default: "0"
      example: "0"

luxpower_refresh_registers:
  description: Request all registers from 3 register banks of specified DONGLE
  fields:
    dongle:
      description: Dongle Serial Number
      default: ""
      example: "<DONGLE SERIAL>"

luxpower_refresh_holdings:
  description: Request all holding(switch specific) from 3 holding banks of specified DONGLE
  fields:
    dongle:
      description: Dongle Serial Number
      default: ""
      example: "<DONGLE SERIAL>"

luxpower_reconnect:
  description: Reconnect to the specified DONGLE
  fields:
    dongle:
      description: Dongle Serial Number
      default: ""

      example: "<DONGLE SERIAL>"

luxpower_synctime:
  description: Synchronizes inverter time with local time
  fields:
    dongle:
      description: Dongle Serial Number
      default: ""
      example: "<DONGLE SERIAL>"
    do_set_time:
      description: Determines whether inverter time must be synced with HA local time
      default: False
      example: "True"
luxpower_restart:
  description: Restart the inverter for the specified DONGLE
  fields:
    dongle:
      description: Dongle Serial Number
      default: ""
      example: "<DONGLE SERIAL>"

luxpower_reset_settings:
  description: Reset inverter settings to defaults for the specified DONGLE
  fields:
    dongle:
      description: Dongle Serial Number
      default: ""
      example: "<DONGLE SERIAL>"

luxpower_start_charging:
  description: Start battery charging using specified time slot
  fields:
    dongle:
      description: Dongle Serial Number
      required: true
      example: '<DONGLE SERIAL>'
    duration_minutes:
      description: Charging duration in minutes
      default: 180
      example: '180'
      selector:
        number:
          min: 15
          max: 1440
          step: 15
          unit_of_measurement: 'minutes'
    charge_slot:
      description: Which charging time slot to use (1, 2, or 3)
      default: 1
      example: "1"
      selector:
        select:
          options:
            - "1"
            - "2"
            - "3"

luxpower_stop_charging:
  description: Stop battery charging for specified time slot
  fields:
    dongle:
      description: Dongle Serial Number
      required: true
      example: "<DONGLE SERIAL>"
    charge_slot:
      description: Which charging time slot to stop (1, 2, or 3)
      default: 1
      example: "1"
      selector:
        select:
          options:
            - "1"
            - "2"
            - "3"
